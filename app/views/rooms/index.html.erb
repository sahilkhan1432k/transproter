<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" />
<div class="container">
	<div class="row clearfix">
		<div class="col-lg-12">
			<div class="card chat-app">
				<div id="plist" class="people-list">
						<ul class="list-unstyled chat-list mt-2 mb-0">
							<% if @rooms.present? %>
								<nav class="nav flex-column">
									<% @rooms.each do |room| %>
										<%= link_to room.name, room_path(room), class: 'nav-link room-nav-link btn btn-solid btn-primary text-light mb-2' %>
									<% end %>
								</nav>
							<% else %>
								<div class="text-muted">
									The are no rooms
								</div>
							<% end %>
						</ul>
				</div>
				<div class="chat">
					<div class="chat-history">
						<ul class="m-b-0">
							<% if @room.present? %>
								<div id='messages' data-room_id="<%= @room.id %>">
										<% @messages.each do |message| %>
											<% if message.user.id == current_user.id %>
												<li class="clearfix">
													<div class="message my-message"><%= message.content%></div>    
												</li>
											<% else %>
												<li class="clearfix">
													<div class="message other-message float-right"><%= message.content%></div>
												</li>
											<% end %>
										<% end %>
								</div>
							<% end %>
						</ul>
					</div>
					<div class="chat-message clearfix">
						<% if @room.present? %>
							<div class="input-group mb-0">
								<%= text_field_tag :content, nil, data: { behavior: 'room_speaker', current_user_id: "#{current_user.id}" }, class:'form-control' , placeholder:'Enter text here...' %>
							</div>
						<% end %>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>